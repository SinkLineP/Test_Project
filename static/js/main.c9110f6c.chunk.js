(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r=n(29),a=n(2),s=n(1),c=n.n(s),i=n(13),o=n.n(i),l=(n(36),n(5)),u=n(6),d=n(9),j=n(8),b=(n(37),n(15)),p=n.n(b),m=n(25),O=n(26),f=n(7),h=n(30),v=n(0),y=function(e){var t=Object(s.useRef)(),n=Object(s.useState)({isScrolling:!1,clientX:0,scrollX:0}),r=Object(h.a)(n,2),c=r[0],i=r[1],o=function(e){if(!t||!t.current||t.current.contains(e.target)){e.preventDefault();var n=c.clientX,r=c.scrollX;if(c.isScrolling){t.current.scrollLeft=r-e.clientX+n;var s=r-e.clientX+n,o=e.clientX;i(Object(a.a)(Object(a.a)({},c),{},{scrollX:s,clientX:o}))}}},l=function(e){t&&t.current&&!t.current.contains(e.target)||(e.preventDefault(),t.current.style.cursor="default",i(Object(a.a)(Object(a.a)({},c),{},{isScrolling:!1})))},u=function(e){t&&t.current&&!t.current.contains(e.target)||(e.preventDefault(),t.current.style.cursor="grabbing",i(Object(a.a)(Object(a.a)({},c),{},{isScrolling:!0,clientX:e.clientX})))};return Object(s.useEffect)((function(){return document.addEventListener("mousedown",u),document.addEventListener("mouseup",l),document.addEventListener("mousemove",o),function(){document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",o)}})),Object(v.jsx)("div",{ref:t,className:e._class,onMouseDown:u,onMouseUp:l,onMouseMove:o,children:e.children})},x=n(28),g=n.n(x),N=(n(64),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).handleOnChange=function(e){var t=r.props.item,n={id:t.id,firstName:t.firstName,lastName:t.lastName,dob:t.dob,active:e.target.value,selectedOption:e.target.value};console.log(e.target.value),r.setState({selectedOption:e.target.value}),r.props.updateData(n),r.props.onChangeUsers(n)},r.state={selectedOption:r.props.selectedOption},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:[{text:"not active",value:"false"},{text:"active",value:"true"}].map((function(t,n){return Object(v.jsxs)("label",{children:[Object(v.jsx)("input",{type:"radio",name:e.props.itemId,value:t.value,checked:e.state.selectedOption===t.value,onChange:function(t){return e.handleOnChange(t)}},n),t.text,Object(v.jsx)("br",{})]},n)}))})})})}}]),n}(s.Component)),D=Object(f.b)((function(e){return{storeUsers:e.users}}),(function(e){return{onAddUsers:function(t){e({type:"ADD_USERS",payload:t})},onChangeUsers:function(t){e({type:"UPDATE_USERS",payload:t})}}}))(N),S=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).filterUsers=function(e){var t,n=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ",(function(e){return[e,{children:[],group:e}]}))),a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;n[s.firstName[0].normalize("NFD").replace(/[^a-z]/gi).toUpperCase()].children.push(s)}}catch(c){a.e(c)}finally{a.f()}n=Object.entries(n),r.setState({filterUsers:n})},r.updateData=function(e){r.setState((function(t){return{filterUsers:t.filterUsers.map((function(t){return[t[0],{children:t[1].children.map((function(t){return t.id===e.id?Object(a.a)(Object(a.a)({},t),{},{active:e.active}):t}))}]}))}}))},r.createDate=function(e){var t=new Date(e);return new Intl.DateTimeFormat("en",{month:"long",day:"numeric",year:"numeric"}).format(t)},r.state={filterUsers:[],filterBirthdayUsers:[]},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("https://yalantis-react-school-api.yalantis.com/api/task0/users",0!=localStorage.length){e.next=6;break}return e.next=4,g.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){e.data.map((function(e){var t=e.id,r=e.firstName,a=e.lastName,s=e.dob,c={id:t,firstName:r,lastName:a,dob:s,active:"false",month:n.createDate(s).split(" ")[0],selectedOption:"false"};n.props.onAddUsers(c)})),n.filterUsers(n.props.storeUsers)}));case 4:e.next=9;break;case 6:(t=JSON.parse(localStorage.getItem("redux-users"))).users.map((function(e){var t=e.id,r=e.firstName,a=e.lastName,s=e.dob,c=e.active,i=e.selectedOption,o={id:t,firstName:r,lastName:a,dob:s,active:c,month:n.createDate(s).split(" ")[0],selectedOption:i};n.props.onAddUsers(o)})),this.filterUsers(t.users);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=["Employees List is empty"];return this.props.storeUsers.map((function(e){"true"==e.active&&(t=["November","December","January","February","March","April","May","June","July","August","September","October"])})),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"two-blocks",children:[Object(v.jsxs)("div",{className:"employees",children:[Object(v.jsx)("div",{className:"employees-title",children:Object(v.jsx)("h1",{children:"Employees"})}),Object(v.jsx)("div",{className:"employees-container",children:Object(v.jsx)(y,{_class:"items",children:this.state.filterUsers.map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"item",children:[Object(v.jsx)("b",{className:"item-liter",children:t[0]}),0==t[1].children.length?Object(v.jsx)("p",{children:"No Employees"}):Object(v.jsx)("div",{children:t[1].children.map((function(t){return"true"==t.active?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{style:{color:"blue"},children:t.firstName+" "+t.lastName}),Object(v.jsx)(D,{inputName:t.id,item:t,updateData:e.updateData,selectedOption:t.selectedOption})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:t.firstName+" "+t.lastName}),Object(v.jsx)(D,{inputName:t.id,item:t,updateData:e.updateData,selectedOption:t.selectedOption})]})}))})]})})}))})})]}),Object(v.jsxs)("div",{className:"employees-birthday",children:[Object(v.jsx)("div",{className:"employees-birthday-title",children:Object(v.jsx)("h1",{children:"Employees Birthday"})}),Object(v.jsx)("div",{className:"employees-birthday-container",children:Object(v.jsx)("table",{children:Object(v.jsx)("tbody",{children:Object(v.jsx)("tr",{children:Object(v.jsx)("ul",{children:t.map((function(t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{children:[Object(v.jsx)("b",{children:t}),Object(v.jsx)("br",{}),e.props.storeUsers.sort((function(e,t){return e.lastName>t.lastName?1:-1})).map((function(n){if(t==n.month&&"true"==n.active)return Object(v.jsx)("li",{style:{marginLeft:30},children:Object(v.jsx)("i",{children:n.firstName+" "+n.lastName+" - "+e.createDate(n.dob)+" year"})})}))]})})})}))})})})})})]})]})})}}]),n}(s.Component),U=Object(f.b)((function(e){return{storeUsers:e.users}}),(function(e){return{onAddUsers:function(t){e({type:"ADD_USERS",payload:t})}}}))(S),E=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)(U,{})})}}]),n}(s.Component),_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},w=n(31),X={users:[]};function F(e,t,n,r){var s=e.users.map((function(e){return e.id===t?Object(a.a)(Object(a.a)({},e),{},{active:n,selectedOption:r}):e}));return Object(a.a)(Object(a.a)({},e),{},{users:s})}var L=Object(w.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USERS":return Object(a.a)(Object(a.a)({},e),{},{users:[].concat(Object(r.a)(e.users),[t.payload])});case"UPDATE_USERS":return F(e,t.payload.id,t.payload.active,t.payload.selectedOption);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());L.subscribe((function(){if(window.location.reload)return!function(e){var t=JSON.stringify(e);localStorage.setItem("redux-users",t)}(L.getState())})),o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(f.a,{store:L,children:Object(v.jsx)(E,{})})}),document.getElementById("root")),_()}},[[65,1,2]]]);
//# sourceMappingURL=main.c9110f6c.chunk.js.map